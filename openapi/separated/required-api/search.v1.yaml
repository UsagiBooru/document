components:
  parameters:
    SearchQueryMylistAllow:
      description: マイリスト追加済みかを取得する0/1 (デフォルト1)
      in: query
      name: with_mylisted
      required: false
      schema:
        default: 1
        enum:
        - 1
        - 0
        example: 1
        format: int32
        maximum: 1
        minimum: 0
        type: integer
    SearchQueryMylistDeny:
      description: マイリスト追加済みかを取得する0/1 (デフォルト0)
      in: query
      name: with_mylisted
      schema:
        default: 0
        enum:
        - 0
        - 1
        example: 0
        maximum: 1
        minimum: 0
        type: integer
    SearchQueryOrder:
      description: ソート方向 d:降順(大→小) a:昇順(小→大)
      in: query
      name: order
      required: false
      schema:
        default: d
        enum:
        - d
        - a
        example: d
        maxLength: 1
        minLength: 1
        type: string
    SearchQueryPage:
      description: 'ページ番号 (NOTE: 1ページ辺りの応答は20件)'
      in: query
      name: page
      required: false
      schema:
        minimum: 1
        type: integer
    SearchQueryPerPage:
      description: 1ページ辺りの要素数
      in: query
      name: per_page
      required: false
      schema:
        default: 20
        enum:
        - 20
        - 40
        - 60
        - 80
        - 100
        example: 20
        maximum: 100
        minimum: 20
        type: integer
    SearchQuerySort:
      description: ソート方法 l:いいね数順 d:投稿日順
      in: query
      name: sort
      required: false
      schema:
        default: d
        enum:
        - l
        - d
        example: d
        type: string
    SearchQuerySortCatalog:
      description: ソート方法 c:ヒット数 d:最終更新 l:いいね数 n:名前
      in: query
      name: sort
      schema:
        default: d
        enum:
        - c
        - d
        - l
        - n
        example: d
        type: string
  schemas:
    GeneralMessageResponse:
      description: 共通の応答構造体(404/401/400等を返す際に使用)
      properties:
        message:
          description: 応答メッセージ(何が間違っているかの詳細)
          minLength: 1
          type: string
      required:
      - message
      title: GeneralMessageResponse
      type: object
      x-examples:
        bad-request:
          message: Your request body is wrong.
        locked:
          message: Specified content is referenced from other content.
        no-permission:
          message: You don't have enough permission to do it.
        not-found:
          message: Specified content was not found.
    GetSearchGeneralResponse:
      description: なんらかの手段で検索した場合の汎用応答構造体
      properties:
        contents:
          items:
            $ref: '#/components/schemas/LightArtStruct'
          type: array
        pagination:
          $ref: '#/components/schemas/PaginationStruct'
      title: GetSearchGeneralResponse
      type: object
      x-examples:
        example:
          contents:
          - artID: 1
            artists:
            - artistID: 1
              name: 彩電
            caption: Ｃ８９の新刊表紙となっていますっ
            datetime: '2015-12-27T07:29:00Z'
            file:
              ipfsHash:
                orig: QmYQvXHGoiTdJuFLQWXQpMBz9V4254gNixLjPjMB2T4g5Y
                thumb: QmYQvXHGoiTdJuFLQWXQpMBz9V4254gNixLjPjMB2T4g5Y
            likes: 0
            mylisted: false
            mylists: 0
            nsfw: false
            originService: Pixiv
            originUrl: https://www.pixiv.net/artworks/54265978
            page: 1
            similarity: 0
            title: 魔法少女は深淵になにをみるか？
            uploader:
              accountID: 1
              name: お窓
            views: 0
          pagination:
            count: 1
            current: 1
            pages: 1
            perPage: 20
            title: 香風智乃
            type: art
    LightAccountStruct:
      description: アカウント情報の簡易構造体(読み取り専用)
      properties:
        accountID:
          description: アカウントID
          example: 1
          minimum: 1
          type: integer
        name:
          description: アカウント名
          example: お窓
          type: string
      title: LightAccountStruct
      type: object
      x-examples:
        example:
          accountID: 1
          name: お窓
    LightArtStruct:
      description: イラスト情報の簡易構造体(読み取り専用)(検索結果等で利用)
      properties:
        artID:
          description: イラストID
          example: 1
          minimum: 1
          type: integer
        artists:
          description: 絵師情報(複数可)
          items:
            $ref: '#/components/schemas/LightArtistStruct'
          type: array
        caption:
          description: '説明文

            NOTE: 通常出典記載の説明文と同じ物が入る'
          example: Ｃ８９の新刊表紙となっていますっ
          minLength: 1
          type: string
        datetime:
          description: 登録日(%Y-%m-%d %H:%M:%S)
          example: '2015-12-27T07:29:00Z'
          format: date-time
          type: string
        file:
          properties:
            ipfsHash:
              description: IPFSのハッシュ情報
              properties:
                orig:
                  description: Raw画像ハッシュ
                  example: QmYQvXHGoiTdJuFLQWXQpMBz9V4254gNixLjPjMB2T4g5Y
                  maxLength: 100
                  type: string
                thumb:
                  description: サムネイルハッシュ
                  example: QmYQvXHGoiTdJuFLQWXQpMBz9V4254gNixLjPjMB2T4g5Y
                  maxLength: 100
                  type: string
              type: object
          type: object
        likes:
          default: 0
          description: 累計いいね数
          example: 0
          format: int64
          minimum: 0
          type: integer
        mylisted:
          default: false
          description: リクエストしたユーザーがマイリストしているか
          type: boolean
        mylists:
          default: 0
          description: マイリスト済みのユーザー数
          example: 0
          format: int64
          minimum: 0
          type: integer
        nsfw:
          default: false
          description: アダルトコンテンツか否か
          type: boolean
        originService:
          description: 出典のサービス名
          example: Pixiv
          minLength: 1
          type: string
        originUrl:
          description: 出典URL
          example: https://www.pixiv.net/artworks/54265978
          format: uri-reference
          minLength: 1
          type: string
        page:
          default: 1
          description: グループになっている場合のページ番号
          example: 1
          format: int32
          minimum: 1
          type: integer
        similarity:
          description: 元画像との類似度(画像検索のみ)
          maximum: 1
          minimum: 0
          type: number
        title:
          description: イラスト(作品)名
          example: 魔法少女は深淵になにをみるか？
          minLength: 1
          type: string
        uploader:
          $ref: '#/components/schemas/LightAccountStruct'
        views:
          default: 0
          description: 累計閲覧数
          example: 0
          format: int64
          minimum: 0
          type: integer
      title: LightArtStruct
      type: object
      x-examples:
        example:
          artID: 1
          artists:
          - artistID: 1
            name: 彩電
          caption: Ｃ８９の新刊表紙となっていますっ
          datetime: '2015-12-27T07:29:00Z'
          file:
            ipfsHash:
              orig: QmYQvXHGoiTdJuFLQWXQpMBz9V4254gNixLjPjMB2T4g5Y
              thumb: QmYQvXHGoiTdJuFLQWXQpMBz9V4254gNixLjPjMB2T4g5Y
          likes: 0
          mylisted: false
          mylists: 0
          nsfw: false
          originService: Pixiv
          originUrl: https://www.pixiv.net/artworks/54265978
          page: 1
          similarity: 0
          title: 魔法少女は深淵になにをみるか？
          uploader:
            accountID: 1
            name: お窓
          views: 0
    LightArtistStruct:
      description: 絵師情報の簡易構造体(読み取り専用)
      properties:
        artistID:
          example: 1
          type: integer
        name:
          example: 彩電
          type: string
      title: LightArtistStruct
      type: object
      x-examples:
        example:
          artistID: 1
          name: 彩電
    PaginationStruct:
      description: ページネーション情報の構造体
      properties:
        count:
          default: 0
          description: ヒット総数
          example: 1
          minimum: 0
          type: integer
        current:
          default: 1
          description: 現在のページ
          example: 1
          minimum: 1
          type: integer
        pages:
          default: 1
          description: ページ数
          example: 1
          minimum: 1
          type: integer
        perPage:
          default: 20
          description: ページ毎の取得数
          enum:
          - 20
          - 40
          - 60
          - 80
          - 100
          example: 20
          format: int32
          maximum: 100
          minimum: 20
          type: integer
        title:
          description: ページネーションタイトル(表示用)
          example: 香風智乃
          minLength: 1
          type: string
        type:
          default: tag
          description: ページネーション種別(表示用)
          enum:
          - artist
          - tag
          - uploader
          - notify-client
          - notify-condition
          - mute
          - follow
          - article
          - mylist-list
          - art
          - upload-history
          example: tag
          type: string
      required:
      - title
      - type
      - count
      - current
      - pages
      - perPage
      title: PaginationStruct
      type: object
      x-examples:
        example:
          count: 1
          current: 1
          pages: 1
          perPage: 20
          title: 香風智乃
          type: tag
    PostSearchByImageAtAscii2dResponse:
      description: Ascii2dを用いて検索した場合の応答構造体
      properties:
        result:
          description: 一致した結果一覧
          items:
            properties:
              artist:
                description: 絵師の名前が入る
                example: ぴちかー
                minLength: 0
                type: string
              extension:
                description: ファイル拡張子(大文字)
                example: JPEG
                maxLength: 10
                minLength: 0
                type: string
              hash:
                description: 画像特有のハッシュ値
                example: 379bf76fe1aeff3c4aff68404d717e59
                maxLength: 64
                minLength: 16
                type: string
              resolution:
                description: 解像度
                example: 640x480
                maxLength: 50
                minLength: 0
                type: string
              size:
                description: ファイルサイズ(HumanReadable)
                example: 245.3KB
                maxLength: 20
                minLength: 0
                type: string
              thumbnail:
                description: サムネイル画像URL
                example: https://ascii2d.net/thumbnail/3/7/9/b/379bf76fe1aeff3c4aff68404d717e59.jpg
                format: uri-reference
                maxLength: 200
                minLength: 0
                type: string
              title:
                description: ツイートタイトルや日付等が入る
                example: リプラビチノちゃん
                maxLength: 100
                minLength: 0
                type: string
              urls:
                description: URL一覧
                properties:
                  artist:
                    description: 絵師ページ直リンク(存在する場合)
                    format: uri-reference
                    maxLength: 100
                    minLength: 0
                    type: string
                  source:
                    description: ソースURL
                    format: uri-reference
                    maxLength: 200
                    minLength: 0
                    type: string
                required:
                - source
                - artist
                type: object
            required:
            - hash
            - size
            - resolution
            - extension
            - thumbnail
            - title
            - artist
            type: object
          minItems: 1
          type: array
          uniqueItems: true
        url:
          description: 取得結果ページのURL
          minLength: 1
          type: string
      required:
      - url
      - result
      title: PostSearchByImageAtAscii2dResponse
      type: object
      x-examples:
        success:
          result:
          - artist: Pizzzica
            hash: 379bf76fe1aeff3c4aff68404d717e59
            size: 1146x2048 JPEG 245.3KB
            thumbnail: /thumbnail/3/7/9/b/379bf76fe1aeff3c4aff68404d717e59.jpg
            title: 2020.04.24
            urls:
              artist: https://twitter.com/intent/user?user_id=1099287362570350592
              source: https://twitter.com/Pizzzica/status/1253620903805505536
          - artist: ぴちかー
            hash: 15e8b2af81e8451fd6852170f428d0f1
            size: twitter
            thumbnail: /thumbnail/1/5/e/8/15e8b2af81e8451fd6852170f428d0f1.jpg
            title: リプラビチノちゃん
            urls:
              artist: https://www.pixiv.net/users/38405227
              source: https://www.pixiv.net/artworks/81029831
          - artist: Pizzzica
            hash: 379bf76fe1aeff3c4aff68404d717e59
            size: 1146x2048 JPEG 245.3KB
            thumbnail: /thumbnail/3/7/9/b/379bf76fe1aeff3c4aff68404d717e59.jpg
            title: 2020.04.24
            urls:
              artist: https://twitter.com/intent/user?user_id=1099287362570350592
              source: https://twitter.com/Pizzzica/status/1253620903805505536
          - artist: ぴちかー
            hash: 15e8b2af81e8451fd6852170f428d0f1
            size: twitter
            thumbnail: /thumbnail/1/5/e/8/15e8b2af81e8451fd6852170f428d0f1.jpg
            title: リプラビチノちゃん
            urls:
              artist: https://www.pixiv.net/users/38405227
              source: https://www.pixiv.net/artworks/81029831
          - artist: なゆ子
            hash: d382dcb19944b9d712cdca81c65f1d10
            size: 1944x3505 PNG 4837.4KB
            thumbnail: /thumbnail/d/3/8/2/d382dcb19944b9d712cdca81c65f1d10.jpg
            title: 銀高（お蔵出し）Log　R-18
            urls:
              artist: https://www.pixiv.net/users/3696997
              source: https://www.pixiv.net/artworks/55205947
          - artist: askh559
            hash: b4ee05347efd6c8041ce0444ba335af5
            size: 481x836 JPEG 306.6KB
            thumbnail: /thumbnail/b/4/e/e/b4ee05347efd6c8041ce0444ba335af5.jpg
            title: 2018.12.09
            urls:
              artist: https://twitter.com/intent/user?user_id=3129658207
              source: https://twitter.com/askh559/status/1071684395239493633
          - artist: alica@サンこそS38
            hash: e65f8bca8ec2322363fc13924875b7eb
            size: 1944x3505 PNG 4837.4KB
            thumbnail: /thumbnail/e/6/5/f/e65f8bca8ec2322363fc13924875b7eb.jpg
            title: ★2011★
            urls:
              artist: https://www.pixiv.net/users/27915
              source: https://www.pixiv.net/artworks/15601359
          - artist: web_giga
            hash: e7dfac627d1c1cd354c661aa3d2ddcd0
            size: 1000x668 JPEG 455.1KB
            thumbnail: /thumbnail/e/7/d/f/e7dfac627d1c1cd354c661aa3d2ddcd0.jpg
            title: 2020.03.04
            urls:
              artist: https://twitter.com/intent/user?user_id=274318707
              source: https://twitter.com/web_giga/status/1235138368956018689
          url: https://ascii2d.net/search/color/e7e09e7cb091cc31ae12a67661e391d5
    PostSearchByImageAtSauceNaoResponse:
      description: SauceNaoを用いて検索した場合の応答構造体
      properties:
        result:
          items:
            properties:
              data:
                description: 参照したDBによる異なる追加データ
                properties:
                  characters:
                    type: string
                  creator:
                    minLength: 1
                    type: string
                  ext_urls:
                    description: 出典URL(出せる場合)
                    items:
                      type: object
                    type: array
                  material:
                    type: string
                  source:
                    minLength: 1
                    type: string
                  yandere_id:
                    type: integer
                type: object
              header:
                properties:
                  dupes:
                    description: 不明
                    type: integer
                  index_id:
                    description: 参照したデータベースID
                    type: integer
                  index_name:
                    description: 参照したデータベース名
                    minLength: 1
                    type: string
                  similarity:
                    description: 類似度(100.00~0.00までのfloatを文字列にしたもの)
                    minLength: 1
                    type: string
                  thumbnail:
                    description: サムネイル画像(直アクセス可能)
                    minLength: 1
                    type: string
                required:
                - similarity
                - thumbnail
                - index_id
                - index_name
                - dupes
                type: object
            required:
            - data
            type: object
          minItems: 1
          type: array
          uniqueItems: true
      title: PostSearchByImageAtSauceNaoResponse
      type: object
      x-examples:
        example-1:
          result:
          - data:
              characters: ''
              creator: azumi kazuki
              ext_urls:
              - https://yande.re/post/show/647138
              material: ''
              source: (C98) [Come Through (Adumi Kazuki)] Honey Sweet
              yandere_id: 647138
            header:
              dupes: 0
              index_id: 12
              index_name: 'Index #12: Yande.re - 3ab0ed13bd3ec3a8622382a240db3b74_1.jpg'
              similarity: '77.83'
              thumbnail: https://img3.saucenao.com/booru/3/a/3ab0ed13bd3ec3a8622382a240db3b74_1.jpg?auth=Tu4qnVHPxVwiXxVzMoJhWw&exp=1615921200
          - data:
              characters: kafuu chino, tippy (gochiusa)
              creator: azumi kazuki
              danbooru_id: 3890236
              ext_urls:
              - https://danbooru.donmai.us/post/show/3890236
              - https://gelbooru.com/index.php?page=post&s=view&id=5273065
              gelbooru_id: 5273065
              material: clockwork rabbit, gochuumon wa usagi desu ka?
              source: https://twitter.com/kazukiadumi/status/1256528892409470976
            header:
              dupes: 1
              index_id: 9
              index_name: 'Index #9: Danbooru - bca7ec8627098a725c1ec1c33effc352_0.jpg'
              similarity: '95.17'
              thumbnail: https://img3.saucenao.com/booru/b/c/bca7ec8627098a725c1ec1c33effc352_0.jpg?auth=r3KiiJle_Y6fdX2Bhh268Q&exp=1615921200
          - data:
              creator:
              - adumi kazuki
              - come through
              eng_name: '[Come Through (Adumi Kazuki)] Honey Sweet'
              jp_name: '[Come Through (あづみ一樹)] Honey Sweet'
              source: Honey Sweet
            header:
              dupes: 1
              index_id: 38
              index_name: 'Index #38: H-Misc (E-Hentai) - 355a28ea90722d3152d2b77da5ad73160ca7f41c.jpg'
              similarity: '77.99'
              thumbnail: https://img3.saucenao.com/ehentai/35/5a/355a28ea90722d3152d2b77da5ad73160ca7f41c.jpg?auth=oewNFWX4UIC3tRM2Z3m2lQ&exp=1615921200
          - data:
              ext_urls:
              - https://www.pixiv.net/member_illust.php?mode=medium&illust_id=85711213
              member_id: 7955474
              member_name: みずみず子
              pixiv_id: 85711213
              title: まとめ
            header:
              dupes: 0
              index_id: 5
              index_name: 'Index #5: Pixiv Images - 85711213_p2.jpg'
              similarity: '51.24'
              thumbnail: https://img1.saucenao.com/res/pixiv/8571/manga/85711213_p2.jpg?auth=8Acmlg43E4OKbzO1ulq-nw&exp=1615921200
          - data:
              creator:
              - hidiri rei
              - hirose miho
              eng_name: '[Hirose Miho] Oneesan to Issho'
              jp_name: '[ひろせみほ] おねえさんといっしょ'
              source: Oneesan to Issho
            header:
              dupes: 1
              index_id: 18
              index_name: 'Index #18: H-Misc (nhentai) - 119.jpg'
              similarity: '50.74'
              thumbnail: https://img1.saucenao.com/res/nhentai/32697%20%28142225%29%20--%20%5BHirose%20Miho%5D%20Oneesan%20to%20Issho/119.jpg?auth=ez1hhJY60BbS-3Ge7xl4CQ&exp=1615921200
          - data:
              author_name: KuroiNekoMiko
              author_url: https://www.furaffinity.net/user/kuroinekomiko
              ext_urls:
              - https://www.furaffinity.net/view/13361739
              fa_id: 13361739
              title: Nurse Aras to the Rescue
            header:
              dupes: 0
              index_id: 40
              index_name: 'Index #40: FurAffinity - 13361739.jpg'
              similarity: '50.6'
              thumbnail: https://img3.saucenao.com/furaffinity/1336/13361739.jpg?auth=QGLqamng93PFvd-UPObysw&exp=1615921200
          - data:
              artist: KOTOBUKI Tarako
              author: KOTOBUKI Tarako
              ext_urls:
              - https://mangadex.org/chapter/824357/
              - https://www.mangaupdates.com/series.html?id=371
              - https://myanimelist.net/manga/1439/
              mal_id: 1439
              md_id: 824357
              mu_id: 371
              part: ' - Chapter 30'
              source: Sex Pistols
            header:
              dupes: 0
              index_id: 37
              index_name: 'Index #37: MangaDex - R15.jpg'
              similarity: '50.48'
              thumbnail: https://img1.saucenao.com/res/mangadex/824/824357/R15.jpg?auth=RFr2ldvSaiFIIxiII821-A&exp=1615921200
          - data:
              ext_urls:
              - https://www.pixiv.net/member_illust.php?mode=medium&illust_id=78582114
              member_id: 7961579
              member_name: 長谷川
              pixiv_id: 78582114
              title: 期間限定Web投稿（12/31まで）
            header:
              dupes: 0
              index_id: 5
              index_name: 'Index #5: Pixiv Images - 78582114_p9.jpg'
              similarity: '50.2'
              thumbnail: https://img1.saucenao.com/res/pixiv/7858/manga/78582114_p9.jpg?auth=NxnkYsm8LdvXpgqcC08qbQ&exp=1615921200
          - data:
              ext_urls:
              - https://www.pixiv.net/member_illust.php?mode=medium&illust_id=20309973
              member_id: 1172007
              member_name: shen
              pixiv_id: 20309973
              title: 忍者じゃなイカ？　～多勢に無勢～
            header:
              dupes: 0
              index_id: 5
              index_name: 'Index #5: Pixiv Images - 20309973_p2.jpg'
              similarity: '49.70'
              thumbnail: https://img1.saucenao.com/res/pixiv/2030/manga/20309973_p2.jpg?auth=goBwjyvoTMaPAvGy3KNmqQ&exp=1615921200
          - data:
              ext_urls:
              - https://www.pixiv.net/member_illust.php?mode=medium&illust_id=54003307
              member_id: 3807881
              member_name: くろい
              pixiv_id: 54003307
              title: 出轟+αまとめ3/再販のお知らせ
            header:
              dupes: 0
              index_id: 5
              index_name: 'Index #5: Pixiv Images - 54003307_p5.jpg'
              similarity: '49.68'
              thumbnail: https://img1.saucenao.com/res/pixiv/5400/manga/54003307_p5.jpg?auth=eBHYI20wET5PE8fNw8ftPw&exp=1615921200
    PostSearchByImageRequest:
      description: 画像を用いて検索する場合の要求構造体
      properties:
        file:
          description: 画像ファイル(binary)
          format: binary
          type: string
      required:
      - file
      title: PostSearchByImageRequest
      type: object
    PostSearchByImageResponse:
      description: 画像を用いて検索した結果の応答構造体
      properties:
        hash:
          example: DUMMY_IMAGE_HASH
          maxLength: 100
          minLength: 1
          type: string
        illusts:
          items:
            $ref: '#/components/schemas/LightArtStruct'
          type: array
      required:
      - hash
      - illusts
      title: PostSearchByImageResponse
      type: object
      x-examples:
        example-1:
          hash: string
          illusts:
          - artID: 1
            artists:
            - artistID: 1
              name: 彩電
            caption: Ｃ８９の新刊表紙となっていますっ
            datetime: '2015-12-27T07:29:00Z'
            file:
              ipfsHash:
                orig: QmYQvXHGoiTdJuFLQWXQpMBz9V4254gNixLjPjMB2T4g5Y
                thumb: QmYQvXHGoiTdJuFLQWXQpMBz9V4254gNixLjPjMB2T4g5Y
            likes: 0
            mylisted: false
            mylists: 0
            nsfw: false
            originService: Pixiv
            originUrl: https://www.pixiv.net/artworks/54265978
            page: 1
            similarity: 0
            title: 魔法少女は深淵になにをみるか？
            uploader:
              accountID: 1
              name: お窓
            views: 0
  securitySchemes:
    Authorization:
      scheme: bearer
      type: http
info:
  contact:
    email: dsgamer777@gmail.com
    name: Omado
    url: https://twitter.com/shallow_omado
  description: Search related api (required)
  license:
    name: AGPLv3
    url: https://www.gnu.org/licenses/agpl-3.0.ja.html
  title: UsagiBooru Search API
  version: '2.0'
openapi: 3.0.0
paths:
  /search/all:
    get:
      description: 登録されたイラスト一覧を取得します
      operationId: searchArtByAll
      parameters:
      - $ref: '#/components/parameters/SearchQuerySort'
      - $ref: '#/components/parameters/SearchQueryOrder'
      - $ref: '#/components/parameters/SearchQueryPage'
      - $ref: '#/components/parameters/SearchQueryMylistAllow'
      - $ref: '#/components/parameters/SearchQueryPerPage'
      responses:
        '200':
          content:
            application/json:
              examples:
                example:
                  value:
                    data:
                      count: 8
                      current: 1
                      imgs:
                      - artID: 8
                        artist:
                          id: 5
                          name: CHI CHEN
                        artistID: 5
                        caption: ''
                        date: '2021-01-07 15:16:58'
                        extension: jpg
                        like: 1
                        mylist: 0
                        mylisted: false
                        nsfw: false
                        originService: 独自
                        originUrl: https://unsplash.com/photos/oBoELXgJR1w?page=1
                        pages: 1
                        title: tea pours into white teacup photo
                      - artID: 7
                        artist:
                          id: 4
                          name: Manki Kim
                        artistID: 4
                        caption: ''
                        date: '2021-01-07 15:15:28'
                        extension: jpg
                        like: 1
                        mylist: 1
                        mylisted: true
                        nsfw: false
                        originService: 独自
                        originUrl: https://unsplash.com/photos/L82-kkEBOd0?page=1
                        pages: 1
                        title: clear glass cup with tea near brown ceramic teapot
                      - artID: 6
                        artist:
                          id: 3
                          name: Andy Falconer
                        artistID: 3
                        caption: Ready for the breakfast rush to start
                        date: '2021-01-07 15:01:01'
                        extension: jpg
                        like: 1
                        mylist: 0
                        mylisted: false
                        nsfw: false
                        originService: 独自
                        originUrl: https://unsplash.com/photos/dwQRixazu9I?page=1
                        pages: 1
                        title: Cafe Image
                      - artID: 5
                        artist:
                          id: 2
                          name: Nathan Dumlao
                        artistID: 2
                        caption: Cappuccino in a bed of fresh roasted coffee beans.
                        date: '2021-01-07 14:56:37'
                        extension: jpg
                        like: 1
                        mylist: 0
                        mylisted: false
                        nsfw: false
                        originService: 独自
                        originUrl: https://unsplash.com/photos/XOhI_kW_TaM?page=1
                        pages: 1
                        title: top view photography of heart latte coffee photo
                      - artID: 4
                        artist:
                          id: 1
                          name: みふね
                        artistID: 1
                        caption: 会社に飼い慣らされ家畜のように扱われている男性会社員（サラリーマン）、俗にいう社畜のイラストです。
                        date: '2021-01-07 14:53:43'
                        extension: png
                        like: 1
                        mylist: 0
                        mylisted: false
                        nsfw: false
                        originService: 独自
                        originUrl: ?page=1
                        pages: 1
                        title: 社畜のイラスト
                      - artID: 3
                        artist:
                          id: 1
                          name: みふね
                        artistID: 1
                        caption: 当たりが出る確率がとても低いガチャガチャを回し続けている人のイラストです。
                        date: '2021-01-07 14:51:59'
                        extension: png
                        like: 1
                        mylist: 0
                        mylisted: false
                        nsfw: false
                        originService: 独自
                        originUrl: https://www.irasutoya.com/2016/02/blog-post_256.html?page=1
                        pages: 1
                        title: なかなか当たらないガチャのイラスト
                      - artID: 2
                        artist:
                          id: 1
                          name: みふね
                        artistID: 1
                        caption: 大学生の男の子が単位を落として焦っているイラストです。
                        date: '2021-01-07 12:53:04'
                        extension: png
                        like: 2
                        mylist: 0
                        mylisted: false
                        nsfw: false
                        originService: 独自
                        originUrl: https://www.irasutoya.com/2016/10/blog-post_23.html?page=1
                        pages: 1
                        title: 単位を落とす学生のイラスト（男性）
                      - artID: 1
                        artist:
                          id: 1
                          name: みふね
                        artistID: 1
                        caption: '快調に動く笑顔のノート型のコンピューターと、壊れて困った顔をしているコンピューターのイラストです。

                          '
                        date: '2021-01-07 12:31:01'
                        extension: png
                        like: 53
                        mylist: 1
                        mylisted: false
                        nsfw: false
                        originService: 独自
                        originUrl: https://www.irasutoya.com/2017/01/blog-post_792.html?page=1
                        pages: 1
                        title: パソコンのキャラクター（ノートパソコン）(笑顔)
                      pages: 1
                      title: 全て
                    message: found
                    status: 200
              schema:
                $ref: '#/components/schemas/GetSearchGeneralResponse'
          description: OK
      summary: Search all arts
      tags:
      - search
  /search/artist:
    get:
      description: 指定した絵師のイラスト一覧を取得します
      operationId: searchArtByArtist
      parameters:
      - $ref: '#/components/parameters/SearchQuerySort'
      - $ref: '#/components/parameters/SearchQueryOrder'
      - $ref: '#/components/parameters/SearchQueryPage'
      - description: 絵師ID
        in: query
        name: id
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/SearchQueryMylistAllow'
      - $ref: '#/components/parameters/SearchQueryPerPage'
      responses:
        '200':
          content:
            application/json:
              examples:
                example:
                  value:
                    data:
                      count: 4
                      current: 1
                      imgs:
                      - artID: 4
                        artist:
                          id: 1
                          name: みふね
                        artistID: 1
                        caption: 会社に飼い慣らされ家畜のように扱われている男性会社員（サラリーマン）、俗にいう社畜のイラストです。
                        date: '2021-01-07 14:53:43'
                        extension: png
                        like: 1
                        mylist: 0
                        mylisted: false
                        nsfw: false
                        originService: 独自
                        originUrl: ?page=1
                        pages: 1
                        title: 社畜のイラスト
                      - artID: 3
                        artist:
                          id: 1
                          name: みふね
                        artistID: 1
                        caption: 当たりが出る確率がとても低いガチャガチャを回し続けている人のイラストです。
                        date: '2021-01-07 14:51:59'
                        extension: png
                        like: 1
                        mylist: 0
                        mylisted: false
                        nsfw: false
                        originService: 独自
                        originUrl: https://www.irasutoya.com/2016/02/blog-post_256.html?page=1
                        pages: 1
                        title: なかなか当たらないガチャのイラスト
                      - artID: 2
                        artist:
                          id: 1
                          name: みふね
                        artistID: 1
                        caption: 大学生の男の子が単位を落として焦っているイラストです。
                        date: '2021-01-07 12:53:04'
                        extension: png
                        like: 2
                        mylist: 0
                        mylisted: false
                        nsfw: false
                        originService: 独自
                        originUrl: https://www.irasutoya.com/2016/10/blog-post_23.html?page=1
                        pages: 1
                        title: 単位を落とす学生のイラスト（男性）
                      - artID: 1
                        artist:
                          id: 1
                          name: みふね
                        artistID: 1
                        caption: '快調に動く笑顔のノート型のコンピューターと、壊れて困った顔をしているコンピューターのイラストです。

                          '
                        date: '2021-01-07 12:31:01'
                        extension: png
                        like: 53
                        mylist: 1
                        mylisted: false
                        nsfw: false
                        originService: 独自
                        originUrl: https://www.irasutoya.com/2017/01/blog-post_792.html?page=1
                        pages: 1
                        title: パソコンのキャラクター（ノートパソコン）(笑顔)
                      pages: 1
                      title: みふね
                    message: found
                    status: 200
              schema:
                $ref: '#/components/schemas/GetSearchGeneralResponse'
          description: OK
      summary: Search by artist
      tags:
      - search
  /search/image/ascii2d:
    post:
      description: 画像からAscii2dに登録されたイラストを検索します
      operationId: searchArtByImageUsingAscii2d
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostSearchByImageRequest'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PostSearchByImageAtAscii2dResponse'
          description: OK
      summary: Search by image at ascii2d
      tags:
      - search
  /search/image/saucenao:
    post:
      description: 画像からSauceNAOに登録されたイラストを検索します
      operationId: searchArtByImageUsingSaucenao
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostSearchByImageRequest'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PostSearchByImageAtSauceNaoResponse'
          description: OK
      summary: Search by image at saucenao
      tags:
      - search
  /search/image/self:
    parameters: []
    post:
      description: 画像からごちイラ内に登録されたイラストを検索します
      operationId: searchArtByImage
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostSearchByImageRequest'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PostSearchByImageResponse'
          description: OK
      summary: Search by image
      tags:
      - search
  /search/keyword:
    get:
      description: 指定したキーワードを含むイラスト一覧を取得します
      operationId: searchArtByKeyword
      parameters:
      - $ref: '#/components/parameters/SearchQuerySort'
      - $ref: '#/components/parameters/SearchQueryOrder'
      - $ref: '#/components/parameters/SearchQueryPage'
      - description: 検索対象ワード
        in: query
        name: keyword
        required: true
        schema:
          example: cafe
          type: string
      - $ref: '#/components/parameters/SearchQueryMylistAllow'
      - $ref: '#/components/parameters/SearchQueryPerPage'
      responses:
        '200':
          content:
            application/json:
              examples:
                example:
                  value:
                    data:
                      count: 1
                      current: 1
                      imgs:
                      - artID: 6
                        artist:
                          id: 3
                          name: Andy Falconer
                        artistID: 3
                        caption: Ready for the breakfast rush to start
                        date: '2021-01-07 15:01:01'
                        extension: jpg
                        like: 1
                        mylist: 0
                        mylisted: false
                        nsfw: false
                        originService: 独自
                        originUrl: https://unsplash.com/photos/dwQRixazu9I?page=1
                        pages: 1
                        title: Cafe Image
                      pages: 1
                      title: cafe
                    message: found
                    status: 200
              schema:
                $ref: '#/components/schemas/GetSearchGeneralResponse'
          description: OK
      summary: Search by keyword
      tags:
      - search
  /search/mylist:
    get:
      description: 指定したマイリストのイラスト一覧を取得します
      operationId: searchArtByMylist
      parameters:
      - $ref: '#/components/parameters/SearchQuerySort'
      - $ref: '#/components/parameters/SearchQueryOrder'
      - $ref: '#/components/parameters/SearchQueryPage'
      - description: マイリストID
        in: query
        name: id
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/SearchQueryMylistAllow'
      - $ref: '#/components/parameters/SearchQueryPerPage'
      responses:
        '200':
          content:
            application/json:
              examples:
                example:
                  value:
                    data:
                      count: 4
                      current: 1
                      imgs:
                      - artID: 4
                        artist:
                          id: 1
                          name: みふね
                        artistID: 1
                        caption: 会社に飼い慣らされ家畜のように扱われている男性会社員（サラリーマン）、俗にいう社畜のイラストです。
                        date: '2021-01-07 14:53:43'
                        extension: png
                        like: 1
                        mylist: 0
                        mylisted: false
                        nsfw: false
                        originService: 独自
                        originUrl: ?page=1
                        pages: 1
                        title: 社畜のイラスト
                      - artID: 3
                        artist:
                          id: 1
                          name: みふね
                        artistID: 1
                        caption: 当たりが出る確率がとても低いガチャガチャを回し続けている人のイラストです。
                        date: '2021-01-07 14:51:59'
                        extension: png
                        like: 1
                        mylist: 0
                        mylisted: false
                        nsfw: false
                        originService: 独自
                        originUrl: https://www.irasutoya.com/2016/02/blog-post_256.html?page=1
                        pages: 1
                        title: なかなか当たらないガチャのイラスト
                      - artID: 2
                        artist:
                          id: 1
                          name: みふね
                        artistID: 1
                        caption: 大学生の男の子が単位を落として焦っているイラストです。
                        date: '2021-01-07 12:53:04'
                        extension: png
                        like: 2
                        mylist: 0
                        mylisted: false
                        nsfw: false
                        originService: 独自
                        originUrl: https://www.irasutoya.com/2016/10/blog-post_23.html?page=1
                        pages: 1
                        title: 単位を落とす学生のイラスト（男性）
                      - artID: 1
                        artist:
                          id: 1
                          name: みふね
                        artistID: 1
                        caption: '快調に動く笑顔のノート型のコンピューターと、壊れて困った顔をしているコンピューターのイラストです。

                          '
                        date: '2021-01-07 12:31:01'
                        extension: png
                        like: 53
                        mylist: 1
                        mylisted: false
                        nsfw: false
                        originService: 独自
                        originUrl: https://www.irasutoya.com/2017/01/blog-post_792.html?page=1
                        pages: 1
                        title: パソコンのキャラクター（ノートパソコン）(笑顔)
                      pages: 1
                      title: みふね
                    message: found
                    status: 200
              schema:
                $ref: '#/components/schemas/GetSearchGeneralResponse'
          description: OK
        '403':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralMessageResponse'
          description: Forbidden
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeneralMessageResponse'
          description: Not Found
      summary: Search by mylist
      tags:
      - search
  /search/random:
    get:
      description: ランダムなイラストを1つ取得します
      operationId: searchArtByRandom
      parameters:
      - $ref: '#/components/parameters/SearchQueryMylistAllow'
      - $ref: '#/components/parameters/SearchQueryPerPage'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetSearchGeneralResponse'
          description: OK
      summary: Search by random
      tags:
      - search
  /search/tag:
    get:
      description: 指定したタグを持つイラスト一覧を取得します
      operationId: searchArtByTag
      parameters:
      - $ref: '#/components/parameters/SearchQuerySort'
      - $ref: '#/components/parameters/SearchQueryOrder'
      - $ref: '#/components/parameters/SearchQueryPage'
      - description: タグID
        in: query
        name: id
        required: true
        schema:
          type: integer
      - $ref: '#/components/parameters/SearchQueryMylistAllow'
      - $ref: '#/components/parameters/SearchQueryPerPage'
      responses:
        '200':
          content:
            application/json:
              examples: {}
              schema:
                $ref: '#/components/schemas/GetSearchGeneralResponse'
          description: OK
      summary: Search by tag
      tags:
      - search
  /search/tag/multiple:
    get:
      description: '複数のタグを指定してイラストを検索します

        アカウントのレベルによって指定できる数は変動します(予定)'
      operationId: searchArtByMultipleTag
      parameters:
      - $ref: '#/components/parameters/SearchQuerySort'
      - $ref: '#/components/parameters/SearchQueryOrder'
      - $ref: '#/components/parameters/SearchQueryPage'
      - description: タグIDをカンマ区切りで複数指定します
        in: query
        name: id
        schema:
          type: string
      - $ref: '#/components/parameters/SearchQueryMylistAllow'
      - $ref: '#/components/parameters/SearchQueryPerPage'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetSearchGeneralResponse'
          description: OK
      summary: Search by multiple tag
      tags:
      - search
    parameters: []
  /search/timeline:
    get:
      description: タイムラインを取得します
      operationId: getTimeline
      parameters:
      - $ref: '#/components/parameters/SearchQuerySort'
      - $ref: '#/components/parameters/SearchQueryOrder'
      - $ref: '#/components/parameters/SearchQueryPage'
      - description: ユーザーID
        in: query
        name: id
        schema:
          type: integer
      - $ref: '#/components/parameters/SearchQueryPerPage'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetSearchGeneralResponse'
          description: OK
      summary: Get timeline
      tags:
      - timeline
      - search
    parameters: []
  /search/uploaders:
    get:
      description: 指定した投稿者のイラスト一覧を取得します
      operationId: searchArtByUploader
      parameters:
      - $ref: '#/components/parameters/SearchQuerySort'
      - $ref: '#/components/parameters/SearchQueryOrder'
      - $ref: '#/components/parameters/SearchQueryPage'
      - $ref: '#/components/parameters/SearchQueryMylistAllow'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetSearchGeneralResponse'
          description: OK
      summary: Search by uploader
      tags:
      - search
security:
- Authorization: []
servers:
- description: Prod
  url: https://api.gochiusa.team
- description: Staging
  url: https://api-next.gochiusa.team
- description: Dev
  url: http://127.0.0.1:8080
tags:
- name: timeline
- name: search
